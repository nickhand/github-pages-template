{% comment %} Load HTML files into an Iframe {% endcomment %}


<script type="text/javascript">
  {% for chart in page.hv-loader %}
  document.addEventListener("DOMContentLoaded", function () {
      let id = "{{ chart[0] }}";
      console.log("HELLO");
      let el = document.getElementById("{{ chart[0] }}")
      if (el===null)
        alert("Error: cannot embed HTML chart because the div element with id '{{ chart[0] }}' does not exist.")
      let spec = "{{ site.baseurl }}/{{ chart[1] }}";
      el.innerHTML = `<iframe id="${id}-iframe" width="100%" scrolling="no" frameborder="0" src="${spec}"></iframe>`;
      console.log("HELLO 3");
      $(`#${id}-iframe`).iFrameResize({ log: true, heightCalculationMethod: 'max' });
      
      console.log($(`#${id}-iframe`))
  });
  {% endfor %}
</script>
